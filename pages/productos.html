<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velas Starlight | Elegancia y Belleza</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'beige-almond': '#F6F1E9',
                        'dark-green': '#2D3E33',
                        'warm-cream': '#EDE6DA',
                        'sage-green': '#3A5A40',
                        'leaf-green': '#A3B18A',
                        'gray-sand': '#D6CEC3',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                }
            }
        }
    </script>

    <!-- Font Awesome (solo 1 vez) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon.png">

    <!-- AOS Animations -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Estilos Globales -->
    <style>
        /* Iconos del navbar */
        .nav ul li a i {
            color: #2D3E33;
        }

        .nav ul li a:hover i {
            color: #3A5A40;
        }
    </style>
</head>

<body class="bg-beige-almond text-dark-green font-sans">

    <!-- üîù Header -->
    <header class="bg-white shadow-md fixed w-full z-50">
        <div class="container mx-auto flex justify-between items-center py-4 px-6">
            <!-- Logo -->
            <a href="../index.html">
                <img src="/images/logo.png" alt="Velas Starlight Logo" class="h-12 w-auto">
            </a>

            <!-- Links Desktop -->
            <nav class="hidden md:flex space-x-8 font-medium text-dark-green items-center">
                <a href="../index.html" class="hover:text-sage-green flex items-center">
                    <i class="fa fa-home mr-1"></i>Inicio
                </a>
                <a href="/pages/productos.html" class="hover:text-sage-green flex items-center">
                    <i class="fa fa-cube mr-1"></i>Productos
                </a>
                <a href="/pages/contacto.html" class="hover:text-sage-green flex items-center">
                    <i class="fa fa-phone mr-1"></i>Contacto
                </a>

                <!-- Carrito Desktop -->
                <a href="carrito.html" class="relative hover:text-sage-green">
                    <i class="fa fa-shopping-cart text-xl"></i>
                    <span id="cart-count"
                        class="absolute -top-3 -right-3 bg-sage-green text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">
                        0
                    </span>
                </a>
            </nav>

            <!-- Bot√≥n men√∫ m√≥vil -->
            <button id="menu-toggle" class="md:hidden text-dark-green text-2xl focus:outline-none">
                <i class="fa fa-bars"></i>
            </button>
        </div>

        <!-- Men√∫ m√≥vil mejorado -->
        <div id="mobile-menu"
            class="hidden flex-col bg-white shadow-lg absolute top-16 left-0 w-full px-6 py-6 space-y-6 transform transition-all duration-300 ease-in-out">

            <a href="../index.html" class="hover:text-sage-green flex items-center text-lg">
                <i class="fa fa-home mr-2 text-sage-green"></i> Inicio
            </a>

            <a href="/pages/productos.html" class="hover:text-sage-green flex items-center text-lg">
                <i class="fa fa-cube mr-2 text-sage-green"></i> Productos
            </a>

            <a href="/pages/contacto.html" class="hover:text-sage-green flex items-center text-lg">
                <i class="fa fa-phone mr-2 text-sage-green"></i> Contacto
            </a>

            <!-- Carrito m√≥vil -->
            <a href="carrito.html" class="relative flex items-center text-lg hover:text-sage-green">
                <i class="fa fa-shopping-cart text-xl mr-2 text-sage-green"></i> Carrito
                <span id="cart-count-mobile"
                    class="absolute -top-2 left-20 bg-sage-green text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">
                    0
                </span>
            </a>
        </div>
    </header>

    <script>
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('opacity-100');
        });
    </script>
    <!-- üì¶ Productos -->
    <main class="flex-1">
        <section class="pt-20 px-6 max-w-7xl mx-auto">
            <!-- Hero productos -->
            <section class="relative">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-14">
                    <div class="rounded-3xl overflow-hidden bg-cover bg-center ring-1 ring-gray-200 shadow-lg"
                        style="background-image:url('../images/hero-banner.png')">
                        <div class="bg-dark-green/70">
                            <div class="px-6 sm:px-10 py-14 md:py-20 text-center text-white">
                                <h1 class="font-serif text-3xl sm:text-4xl md:text-5xl font-bold">Nuestros Productos
                                </h1>
                                <p class="mt-3 md:mt-4 text-sm sm:text-base md:text-lg max-w-2xl mx-auto">
                                    Aromas que abrazan y dise√±os que enamoran. Encuentra tu favorito ‚ú®
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Filtros -->
            <div class="bg-white shadow-md rounded-xl p-6 grid grid-cols-1 md:grid-cols-3 gap-4">

                <!-- Buscador -->
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Buscar producto..."
                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-dark-green transition">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>

                <!-- Categor√≠as -->
                <select id="category-filter"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-dark-green transition">
                    <option value="all">Todas las categor√≠as</option>
                    <option value="Vela">Vela</option>
                    <option value="decoracion">Decoraci√≥n</option>
                    <option value="belleza">Belleza</option>
                </select>

                <!-- Precio -->
                <select id="price-filter"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-dark-green transition">
                    <option value="all">Todos los precios</option>
                    <option value="0-100">$0 - $100</option>
                    <option value="101-200">$101 - $200</option>
                    <option value="201+">$201+</option>
                </select>

            </div>
        </section>

        <section class="max-w-6xl mx-auto px-6 py-12">
            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- Aqu√≠ se insertar√°n los productos din√°micamente con JS -->
            </div>

            <!-- Mensaje de no resultados -->
            <div id="no-results" class="hidden text-center text-gray-500 font-medium mt-8">
                ‚ùå No se encontraron productos relacionados.
            </div>
        </section>
    </main>

    <!-- üîª Footer -->
    <footer class="bg-dark-green text-white py-6">
        <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Links -->
            <div class="flex flex-col space-y-2">
                <a href="/pages/politicas.html
                    " class="hover:text-gray-sand transition">Pol√≠ticas</a>
            </div>

            <!-- Redes sociales -->
            <div class="flex space-x-6 md:justify-end">
                <a href="https://wa.me/521234567890" target="_blank" aria-label="WhatsApp"
                    class="hover:text-gray-sand transition text-xl">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://www.instagram.com/velas_starlight/" target="_blank" aria-label="Instagram"
                    class="hover:text-gray-sand transition text-xl">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="#" target="_blank" aria-label="Facebook" class="hover:text-gray-sand transition text-xl">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="#" target="_blank" aria-label="Tiktok" class="hover:text-gray-sand transition text-xl">
                    <i class="fab fa-tiktok"></i>
                </a>
            </div>
        </div>

        <!-- Derechos reservados -->
        <div class="text-center text-sm mt-6">
            <p>&copy; 2025 Velas Starlight. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="product-modal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4">
        <div
            class="bg-white rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto relative flex flex-col md:flex-row">

            <!-- Bot√≥n cerrar -->
            <button id="close-modal" class="absolute top-4 right-4 z-50 bg-white/90 rounded-full w-12 h-12 flex items-center justify-center 
           text-gray-700 hover:text-red-500 text-3xl font-bold shadow-md">
                &times;
            </button>

            <!-- Imagen -->
            <div class="w-full md:w-1/2 flex items-center justify-center p-6 order-first md:order-last">
                <div
                    class="relative overflow-hidden rounded-lg border bg-gray-50 flex items-center justify-center max-h-[400px]">
                    <img id="modal-image" src="img/vela1.jpg" alt="Producto"
                        class="max-h-[300px] md:max-h-[400px] object-contain transform transition-transform duration-300 mx-auto">

                    <!-- Controles de zoom -->
                    <div class="absolute bottom-3 right-3 flex space-x-2">
                        <button id="zoom-in" class="bg-dark-green text-white p-2 rounded">+</button>
                        <button id="zoom-out" class="bg-dark-green text-white p-2 rounded hidden">-</button>
                    </div>
                </div>
            </div>

            <!-- Informaci√≥n del producto -->
            <div class="w-full md:w-1/2 p-6">
                <h2 id="modal-title" class="text-2xl font-bold mb-2">Vela</h2>
                <p id="modal-description" class="text-gray-600 mb-2">Descripci√≥n del producto.</p>
                <p id="modal-price" class="text-dark-green font-bold text-lg mb-4">$120 MXN</p>

                <!-- Tipos (ej. soya/parafina) -->
                <div id="modal-types" class="mb-4">
                    <label class="block font-semibold mb-2">Selecciona Tipo:</label>
                    <div class="flex space-x-2" id="modal-type-options">
                    </div>
                </div>

                <!-- Tama√±os -->
                <div id="modal-sizes" class="mb-4">
                    <label class="block font-semibold mb-2">Selecciona Tama√±o:</label>
                    <div class="flex flex-col space-y-2" id="modal-size-options">
                    </div>
                </div>

                <!-- Fragancias -->
                <div class="mb-4">
                    <label class="block font-semibold mb-2">Selecciona Fragancia:</label>
                    <select id="modal-fragrance" class="w-full border rounded px-3 py-2">
                        <option>Vainilla</option>
                        <option>Lavanda</option>
                        <option>Canela</option>
                    </select>
                </div>

                <!-- Cantidad -->
                <div class="mb-4">
                    <label class="block font-semibold mb-2">Cantidad:</label>
                    <div class="flex items-center space-x-2">
                        <button id="decrease-qty" class="bg-dark-green text-white px-3 py-1 rounded">-</button>
                        <input id="modal-quantity" type="number" value="1" min="1"
                            class="w-16 text-center border rounded px-2 py-1">
                        <button id="increase-qty" class="bg-dark-green text-white px-3 py-1 rounded">+</button>
                    </div>
                </div>

                <!-- Bot√≥n agregar -->
                <button
                    class="bg-dark-green text-white px-6 py-2 rounded flex items-center gap-2 w-full justify-center">
                    <i class="fas fa-cart-plus"></i> Agregar al Carrito
                </button>
            </div>
        </div>
    </div>



    <script>
        const products = [
            {
                title: "Flor Escondida",
                category: "Vela",
                description: "Una elegante vela con un dise√±o de flor de loto, perfecta para ambientar tu hogar con una sensaci√≥n de paz y tranquilidad. Ideal para un momento de relajaci√≥n o meditaci√≥n.",
                image: "../images/vela-starlight-rosas.jpeg",
                types: ["Soya", "Parafina"],
                sizes: [
                    { label: "50 gr", price: 75 }
                ],
                fragrances: ["Rosas Especiales", "Lavanda", "Vainilla", "Canela", "Fresa", "Frutos Rojos", "Blue Berry", "Cereza", "Manzana-Canela", "Pitaya", "Flores Hawaianas", "Citricos", "Coco", "Menta", "Sandalo"]
            },
            {
                title: "√Ångel de la Calma",
                category: "Vela",
                description: "Una delicada vela con la figura de un angelito en su base, que brinda un aroma puro y et√©reo. Perfecta para crear un ambiente celestial y sereno en cualquier espacio de tu hogar.",
                image: "../images/vela-starlight-angeles.jpeg",
                types: ["Soya", "Parafina"],
                sizes: [
                    { label: "50 gr", price: 75 }
                ],
                fragrances: ["Lavanda", "Vainilla", "Canela", "Fresa", "Frutos Rojos", "Blue Berry", "Cereza", "Manzana-Canela", "Pitaya", "Rosas Especiales", "Flores Hawaianas", "Citricos", "Coco", "Menta", "Sandalo"]
            },
            {
                title: "Vela Pino Navide√±o",
                category: "Vela",
                description: "Una vela con forma de pino navide√±o, perfecta para crear un ambiente festivo y acogedor durante las fiestas. Su aroma a pino te transportar√° a un bosque nevado.",
                image: "../images/vela-starlight-pino.jpeg",
                types: ["Soya", "Parafina"],
                sizes: [
                    { label: "100 gr", price: 120 },
                ],
                fragrances: ["Pino Fresco", "Canela", "Manzana-Canela", "Menta", "S√°ndalo"]
            },
            {
                title: "Vela Muela",
                category: "Vela",
                description: "Una vela con un dise√±o √∫nico en forma de muela, perfecta para celebrar a dentistas, estudiantes de odontolog√≠a o a cualquier persona del sector. Ideal como regalo original para decorar un consultorio o simplemente para a√±adir un toque divertido a cualquier espacio.",
                image: "../images/vela-starlight-muela.jpeg",
                types: ["Soya", "Parafina"],
                sizes: [
                    { label: "150 gr", price: 150 }
                ],
                fragrances: ["Menta", "Eucalipto", "Vainilla", "Lavanda", "Frutos Rojos"]
            },
            {
                title: "Vela Flor de Cempas√∫chil",
                category: "Vela",
                description: "Celebra el D√≠a de Muertos con esta hermosa vela en forma de flor de Cempas√∫chil, s√≠mbolo de la tradici√≥n. Ideal para altares y decoraci√≥n festiva.",
                image: "../images/vela-flor-cempasuchil.jpeg",
                types: ["Soya", "Parafina"], // Asumiendo que es de parafina por la forma detallada
                sizes: [
                    { label: "50 gr", price: 80 }
                ],
                fragrances: ["Cempas√∫chil", "Incienso", "Copal"] // Sugerencias de fragancias tem√°ticas
            }
        ];
        let currentScale = 1;

        // Renderizar productos
        function renderProducts(productsToRender = products) {
            console.log("üî• Iniciando renderProducts con", productsToRender.length, "productos");

            const grid = document.getElementById("product-grid");
            const noResults = document.getElementById("no-results");

            if (!grid) {
                console.error("‚ùå No se encontr√≥ el elemento product-grid");
                return;
            }

            console.log("‚úÖ Elemento grid encontrado:", grid);
            grid.innerHTML = "";

            if (productsToRender.length === 0) {
                console.log("‚ö†Ô∏è No hay productos para mostrar");
                noResults.classList.remove("hidden");
                return;
            } else {
                noResults.classList.add("hidden");
            }

            productsToRender.forEach((product, index) => {
                console.log(`üõçÔ∏è Creando tarjeta ${index + 1}: ${product.title}`);
                const card = document.createElement("div");
                card.className = `
                  bg-white 
                  border border-gray-200 
                  rounded-xl 
                  shadow-md 
                  hover:shadow-lg 
                  transition 
                  duration-300 
                  p-4 
                  flex flex-col 
                  items-center
                `;
                card.setAttribute("data-name", product.title);
                card.setAttribute("data-category", product.category || "vela");
                card.setAttribute("data-price", product.sizes[0].price);

                card.innerHTML = `
                  <div class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col h-full">
                    <!-- Imagen -->
                    <div class="relative">
                      <img src="${product.image}" alt="${product.title}" class="w-full h-48 object-cover rounded-t-lg">
                      <span class="absolute top-2 left-2 bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded">
                        ${product.category || "General"}
                      </span>
                    </div>
                
                    <!-- Contenido -->
                    <div class="p-4 flex flex-col flex-grow">
                      <h3 class="font-bold text-lg mb-2 text-left">${product.title}</h3>
                      <p class="text-gray-500 text-xs mb-2 text-justify flex-grow">
                        ${product.description}
                      </p>
                      <p class="text-dark-green font-bold text-center text-lg mb-4">
                        ${product.sizes && product.sizes.length > 0
                        ? "$" + product.sizes[0].price + " MXN"
                        : "Precio no disponible"}
                      </p>
                      <button class="ver-detalles bg-dark-green text-white w-full py-2 rounded-lg hover:bg-green-900">
                        Ver detalles
                      </button>
                    </div>
                  </div>
                `;

                // ‚ö° Muy importante: ahora s√≠ encuentra el bot√≥n correctamente
                card.querySelector(".ver-detalles").addEventListener("click", (e) => {
                    e.stopPropagation();
                    openModal(product); // üëà esto abre el modal con la info del producto
                });


                grid.appendChild(card);
                console.log(`‚úÖ Tarjeta ${index + 1} agregada al grid`);
            });

            console.log("üéâ Renderizado completado. Total de tarjetas:", productsToRender.length);
        }
    </script>

    <script>
        // ================== Variables globales ==================
        let currentProduct = null;
        let currentZoom = 1;
        let scale = 1;

        // ================== Modal ==================

        // Abrir modal din√°mico
        const modal = document.getElementById("product-modal");
        const closeModalBtn = document.getElementById("close-modal");

        const modalTitle = document.getElementById("modal-title");
        const modalDescription = document.getElementById("modal-description");
        const modalPrice = document.getElementById("modal-price");
        const modalImage = document.getElementById("modal-image");

        const modalTypes = document.getElementById("modal-types");
        const typeSection = document.getElementById("type-section");

        const modalSizes = document.getElementById("modal-sizes");
        const sizeSection = document.getElementById("size-section");

        const modalFragrance = document.getElementById("modal-fragrance");
        const fragranceSection = document.getElementById("fragrance-section");

        const quantityInput = document.getElementById("quantity");
        const increaseBtn = document.getElementById("increase-qty");
        const decreaseBtn = document.getElementById("decrease-qty");

        const zoomInBtn = document.getElementById("zoom-in");
        const zoomOutBtn = document.getElementById("zoom-out");

        let zoomLevel = 1;
        let selectedPrice = 0;

        // Mostrar modal con datos de producto
        // Abrir modal
        function openModal(product) {
            document.getElementById("modal-title").textContent = product.title;
            document.getElementById("modal-description").textContent = product.description;
            document.getElementById("modal-image").src = product.image;

            // Tipos
            const typeContainer = document.getElementById("modal-type-options");
            typeContainer.innerHTML = "";
            if (product.types) {
                product.types.forEach((type, i) => {
                    const btn = document.createElement("button");
                    btn.className = `type-btn px-4 py-2 border rounded ${i === 0 ? "bg-dark-green text-white" : ""}`;
                    btn.textContent = type;
                    btn.addEventListener("click", () => {
                        document.querySelectorAll(".type-btn").forEach(b => b.classList.remove("bg-dark-green", "text-white"));
                        btn.classList.add("bg-dark-green", "text-white");
                    });
                    typeContainer.appendChild(btn);
                });
            }

            // Tama√±os
            const sizeContainer = document.getElementById("modal-size-options");
            sizeContainer.innerHTML = "";
            if (product.sizes) {
                product.sizes.forEach((size, i) => {
                    const btn = document.createElement("button");
                    btn.className = `size-btn px-3 py-2 border rounded text-left ${i === 0 ? "bg-dark-green text-white" : ""}`;
                    btn.textContent = `${size.label} - $${size.price} MXN`;
                    btn.addEventListener("click", () => {
                        document.querySelectorAll(".size-btn").forEach(b => b.classList.remove("bg-dark-green", "text-white"));
                        btn.classList.add("bg-dark-green", "text-white");
                        document.getElementById("modal-price").textContent = `$${size.price} MXN`;
                    });
                    sizeContainer.appendChild(btn);
                });
                // Precio inicial
                document.getElementById("modal-price").textContent = `$${product.sizes[0].price} MXN`;
            }

            // Fragancias
            const fragranceSelect = document.getElementById("modal-fragrance");
            fragranceSelect.innerHTML = "";
            if (product.fragrances) {
                product.fragrances.forEach(f => {
                    const option = document.createElement("option");
                    option.textContent = f;
                    fragranceSelect.appendChild(option);
                });
            }

            // Reset cantidad
            document.getElementById("modal-quantity").value = 1;

            // Mostrar modal
            document.getElementById("product-modal").classList.remove("hidden");

            // Reset zoom
            currentScale = 1;
            document.getElementById("modal-image").style.transform = "scale(1)";
            document.getElementById("zoom-out").classList.add("hidden");
        }

        // Cerrar modal
        document.getElementById("close-modal").addEventListener("click", () => {
            document.getElementById("product-modal").classList.add("hidden");
        });

        // Cantidad (+ y -)
        document.getElementById("increase-qty").addEventListener("click", () => {
            let qty = parseInt(document.getElementById("modal-quantity").value) || 1;
            document.getElementById("modal-quantity").value = qty + 1;
        });
        document.getElementById("decrease-qty").addEventListener("click", () => {
            let qty = parseInt(document.getElementById("modal-quantity").value) || 1;
            if (qty > 1) document.getElementById("modal-quantity").value = qty - 1;
        });


        // Zoom IN
        zoomInBtn.addEventListener("click", () => {
            if (scale < 2) { // limite m√°ximo de zoom
                scale += 0.2;
                modalImage.style.transform = `scale(${scale})`;
                zoomOutBtn.classList.remove("hidden"); // mostrar el bot√≥n -
            }
        });

        // Zoom OUT (restaurar imagen)
        zoomOutBtn.addEventListener("click", () => {
            scale = 1; // restaurar al tama√±o original
            modalImage.style.transform = "scale(1)";
            zoomOutBtn.classList.add("hidden"); // ocultar el bot√≥n - otra vez
        });





    </script>

    <script>
        // -----------------------------
        // 1) Referencias correctas
        // -----------------------------
        const searchInput = document.getElementById("search-input");
        const categorySelect = document.getElementById("category-filter");
        const priceSelect = document.getElementById("price-filter");
        const grid = document.getElementById("product-grid");

        // -----------------------------
        // 2) Precio m√≠nimo de un producto
        //    (compat: sizes[] o price suelto)
        // -----------------------------
        function lowestPrice(product) {
            if (Array.isArray(product.sizes) && product.sizes.length > 0) {
                return Math.min(...product.sizes.map(s => Number(s.price)));
            }
            if (typeof product.price === "number") return product.price;
            if (typeof product.price === "string") {
                const n = product.price.match(/\d+(\.\d+)?/g);
                return n ? Number(n[0]) : Infinity;
            }
            return Infinity;
        }

        // -----------------------------
        // 3) Filtro principal
        // -----------------------------
        function filterProducts() {
            const searchText = document.getElementById("search-input").value.toLowerCase();
            const category = document.getElementById("category-filter").value;
            const priceRange = document.getElementById("price-filter").value;

            const filteredProducts = products.filter(product => {
                // Buscar por t√≠tulo o descripci√≥n
                const matchesSearch =
                    product.title.toLowerCase().includes(searchText) ||
                    product.description.toLowerCase().includes(searchText);

                // Categor√≠a
                const matchesCategory = category === "all" || product.category === category;

                // Precio
                let matchesPrice = true;
                if (priceRange !== "all" && product.sizes && product.sizes.length > 0) {
                    const minPrice = Math.min(...product.sizes.map(size => size.price));

                    if (priceRange === "201+") {
                        matchesPrice = minPrice >= 201;
                    } else {
                        const [min, max] = priceRange.split("-").map(v => parseInt(v, 10));
                        matchesPrice = minPrice >= min && minPrice <= max;
                    }
                }

                return matchesSearch && matchesCategory && matchesPrice;
            });

            renderProducts(filteredProducts);
        }

        // -----------------------------
        // 4) Event Listeners para filtros
        // -----------------------------
        document.addEventListener("DOMContentLoaded", function () {
            console.log("üöÄ DOM cargado, iniciando aplicaci√≥n");
            console.log("üì¶ Array de productos:", products);

            // Test simple: agregar un div de prueba
            const testDiv = document.createElement("div");
            testDiv.innerHTML = "<p style='color: red; font-size: 20px;'>üî• JavaScript funcionando!</p>";
            document.getElementById("product-grid").appendChild(testDiv);

            // Renderizar productos iniciales
            setTimeout(() => {
                renderProducts();
            }, 100);

            // Agregar event listeners
            document.getElementById("search-input").addEventListener("input", filterProducts);
            document.getElementById("category-filter").addEventListener("change", filterProducts);
            document.getElementById("price-filter").addEventListener("change", filterProducts);
        });
    </script>


</body>

</html>